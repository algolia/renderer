<!DOCTYPE html>
<html lang="en">
<body>

<h2>Protected login form</h2>

<form action="<%= baseUrl %>/secure/login" method="post">
    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
    <label for="username">Username:</label><br>
    <input type="text" id="username" name="username" autofocus><br>
    <label for="password">Password:</label><br>
    <input type="password" id="password" name="password"><br><br>
    <input type="checkbox" id="redirect" name="redirect">
    <label for="redirect">Redirect after login</label><br><br>
    <input type="submit" value="Log-in">
</form>

<script>
  const searchParams = new URLSearchParams(window.location.search);
  const redirect = searchParams.get('redirect');
  if (redirect === 'true') {
    document.getElementById('redirect').checked = true;
  }
</script>

</body>
</html>
